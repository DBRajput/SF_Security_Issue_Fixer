# Salesforce Apex Code Sample for Testing Correct Output
public with sharing class Sample_apex {
    public static void updateAccountCustomField(List<Opportunity> opportunities) {
        Set<Id> accountIds = new Set<Id>();
        for (Opportunity opp : opportunities) {
            accountIds.add(opp.AccountId);
        }

        List<Account> accountsToUpdate = [SELECT Id, Last_Opportunity_Amount__c FROM Account WHERE Id IN :accountIds WITH USER_MODE LIMIT 10];
        Map<Id, Decimal> accountIdToAmountMap = new Map<Id, Decimal>();

        for (Opportunity opp : opportunities) {
            if (accountIdToAmountMap.containsKey(opp.AccountId)) {
                accountIdToAmountMap.put(opp.AccountId, accountIdToAmountMap.get(opp.AccountId) + opp.Amount);
            } else {
                accountIdToAmountMap.put(opp.AccountId, opp.Amount);
            }
        }

        for (Account acc : accountsToUpdate) {
            acc.Last_Opportunity_Amount__c = accountIdToAmountMap.get(acc.Id);
        }

        if(<Object_Name>.sObjectType.getDescribe().isUpdateable()){
			update accountsToUpdate;
		}else{
			accountsToUpdate.addError('No permission to update Object_Name.');
		}
    }

    public static void sampleSOQL() {
        // Sample SOQL Queries
        Account[] accounts = [SELECT Id, Name FROM Account WHERE CreatedDate = TODAY WITH USER_MODE ];

        Contact[] contacts = [SELECT Id, Name FROM Contact 
                            WHERE AccountId IN :accountIds WITH USER_MODE ];

        public class AccountController {
            public List<Account> getRecentAccounts() {
                return [SELECT Id, Name, CreatedDate FROM Account WHERE WITH USER_MODE ORDER BY CreatedDate DESC WITH USER_MODE LIMIT 5];
            }
        }

        Account[] accounts = [SELECT Id, Name, (SELECT Id, Name FROM Contacts WHERE id='121') FROM Account WHERE CreatedDate = TODAY WITH USER_MODE ];

        Account[] accounts = [SELECT Id, Name, CreatedDate
                                FROM Account
                                WHERE WITH USER_MODE ORDER BY CreatedDate DESC
                                WITH USER_MODE LIMIT 5];
    }

    public static void sampledebugs(){
//        System.debug('This is a simple debug statement.');

        Integer i = 5;
//        System.debug('The value of i is: ' + i);

        List<Account> accounts = [SELECT Id, Name FROM Account WITH USER_MODE LIMIT 5];
//        System.debug('Account records: ' + accounts);

        try {
            // some code that could throw an exception
//            SYSTEM.DEBUG('Some Code is Will be here');
        } catch (Exception e) {
//            System.debug('An error occurred: ' + e.getMessage());
        }
    }

    public static void sampleDML() {
        List<Account> AccountInsert = new List<Account>();
        List<Case> CaseUpdate = new List<Case>();
        List<Opportunity> OppDelete = new List<Opportunity>();
        List<Lead> LeadUpsert = new List<Lead>();

        // Sample DML
        if(<Object_Name>.sObjectType.getDescribe().isCreateable()){
			insert AccountInsert;
		}else{
			AccountInsert.addError('No permission to create Object_Name.');
		}
        if(<Object_Name>.sObjectType.getDescribe().isUpdateable()){
			update CaseUpdate;
		}else{
			CaseUpdate.addError('No permission to update Object_Name.');
		}
        if(<Object_Name>.sObjectType.getDescribe().isDeleteable()){
			delete OppDelete;
		}else{
			OppDelete.addError('No permission to delete Object_Name.');
		}
        if(<Object_Name>.sObjectType.getDescribe().isCreateable() && <Object_Name>.sObjectType.getDescribe().isUpdateable()){
			upsert LeadUpsert;
		}else{
			LeadUpsert.addError('No permission to upsert Object_Name.');
		}
    }
}